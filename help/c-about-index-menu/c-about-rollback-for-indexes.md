---
description: 「ロールバック」を使用して、生成したWebサイトのインデックスをバックアップおよびアーカイブできます。 インデックスのバックアップは、いつでも復元できます。
seo-description: 「ロールバック」を使用して、生成したWebサイトのインデックスをバックアップおよびアーカイブできます。 インデックスのバックアップは、いつでも復元できます。
seo-title: インデックスのロールバックについて
solution: Target
subtopic: Rollback
title: インデックスのロールバックについて
topic: Index,Site search and merchandising
uuid: abed878a-71b3-4122-9822-7410f4427a9a
translation-type: tm+mt
source-git-commit: f21a3f7fe0aeaab517a5ca36da43594873b3e69a

---


# インデックスのロールバックについて{#about-rollback-for-indexes}

を使用して、生成 [!DNL Rollback] したWebサイトのインデックスをバックアップおよびアーカイブできます。 インデックスのバックアップは、いつでも復元できます。

## インデックスのロールバックの使用 {#concept_0BC4BC975DB045A986C3607CF32705D8}

アーカイブには次の4つのインデックスが含まれます。現在のサイトインデックスと、前の3つのサイトインデックス。検索ロボットは、ロールバックの設定に基づいて自動的にアーカイブします。 Webサイトのインデックスが作成されるたびに、アーカイブが更新されます。 新しいインデックスは、既存のアーカイブ済みインデックスを置き換えるので、アーカイブは常に最新の状態に保たれます。

アーカイブされた各インデックスは、次の情報と共にアーカイブに一覧表示されます。

* インデックスが確定された日時。
* インデックスの年齢。
* インデックスが作成されたドキュメントの数。
* インデックス作成操作の種類（フル、増分など）。
* インデックスのステータス（インデックスが現在アクティブかどうか、次のインデックスの後で保持または削除されるかどうかなど）。

Webサイトのインデックスが作成されるたびに、新しいインデックスがアーカイブに追加され、既存のアーカイブ済みインデックスが削除されます。 ただし、最も古いインデックスが削除されるとは限りません。 新しいインデックスがアーカイブに追加されると、各アーカイブ済みインデックスが、ロールバックの構成設定で指定されたページに対して年齢比較されます。 目的のスケジュールから最も遠いインデックスが削除されます。 例えば、構成設定が24,48,72で、保存されたインデックスの年齢が5, 23, 47, 71であるとします。 新しいインデックスがアーカイブに追加されると、その古さが設定から最も遠くなるので、最新のインデックス（5時間経過）が削除されます。 便宜上、サイトのインデックスが再び作成されたときに削除されるインデックスをアーカイブに記録します。

インデックスのアクティブ化中に、ユーザーインターフェイス内の他の領域に移動できます。 ステータスインジケーターは、アクティブ化の進行状況を追跡し、ページを表示するときに使用で [!DNL Rollback] きます。 アーカイブされたインデックスが復元されると、ユーザーにフルインデックス、増分インデックス、スクリプト化インデックス、再生成の各ページの先頭に通知されます。 インデックスの復元中は、インデックスの作成操作は行われません。 ロールバック操作がスケジュール済みサイトインデックスと競合する場合、スケジュール済みインデックスは、ロールバックが完了するまで延期されます。 インデックスが既に進行中の場合、ユーザーがロールバックの受信の優先順位を確認すると、インデックスはキャンセルされます。

検索ロボットは、アーカイブの整合性を維持するために、クロール中にエラーが見つかった場合に、ロールバックアーカイブを更新しません。 また、ユーザーがインデックス作成操作をキャンセルした場合も、更新は行われません。 インデックス作成操作が最大時間、バイト、ページ、またはドキュメントを超えた場合、クローラはインデックスをファイナライズし、アーカイブに追加します。 さらに、インデックス作成操作中にページ数の最小値に達しなかった場合は、クローラーによってインデックスがキャンセルされ、前のインデックスはアクティブなままになります。

## インデックスのロールバック・アーカイブ・スケジュールの構成 {#task_CD403B9AE2244B13A6B3861B5F9B055C}

を使用して、ロ [!DNL Configure] ールバック・アーカイブに保存するインデックス・ファイルを決定できます。 アーカイブには、現在のインデックスと3つのバックアップインデックスを格納できます。

このフ **[!UICONTROL Schedule]** ィールドには、現在の時刻からの時間を表す3つのコンマ区切り値が含まれています。 例えば、スケジュール値24,48,72は、現在または昨日から24時間、現在または2日前から48時間、現在または3日前から72時間と指定します。

検索は、1日、2日、3日経過した時点で最も近いサイトインデックスを継続的にアーカイブします。 アーカイブされたインデックスの実際の時間と日付は、Webサイトのインデックス作成スケジュールによって異なる場合があります。

**インデックスのロールバック・アーカイブ・スケジュールを構成するには**

1. 製品メニューで//をクリ **[!UICONTROL Index]** ックし **[!UICONTROL Rollback]** ます **[!UICONTROL Configure]**。
1. ページの [!DNL Rollback Configuration] フィールドに、3 **[!UICONTROL Schedule]** つのインデックスページのコマンド区切りのリストを時間単位で入力します。 これらのページに最も近いインデックスが保存されます。
1. クリック **[!UICONTROL Save Changes]**.

## アーカイブインデックスのアクティブ化 {#task_5DCE3D660F6F4197993E92AA59227332}

Rollbackを使用して、アーカイブされたインデックスをアクティブ化できます。

インデックスをロール **[!UICONTROL Activate]** バックするためにクリックすると、現在アクティブなインデックスがアーカイブに移動します。

アーカイブされたインデックスのアクティブ化の後、ページに戻り [!DNL Activate Index] ます。 インデックスのロールバックに関する情報が表示されます。 また、テーブル [!DNL Activate] の列には、ロー [!DNL Available Indexes] ルバックされたインデックスが「Active Index」のステータスで示されます。

1. 製品メニューで//をクリ **[!UICONTROL Index]** ックし **[!UICONTROL Rollback]** ます **[!UICONTROL Rollback]**。
1. ページの [!DNL Activate Index] 表で、アクテ [!DNL Available Indexes] ィブにする関連 **[!UICONTROL Activate]** 付けられたアーカイブインデックスの種類をクリックします。

   「日付」、「年齢」、「ページ」および「操作」列を使用して、アクティブにするインデックスを指定します。
1. ページで、 [!DNL Verify Rollback] インデックス情報を確認し、正しいインデックスが選択されていることを確認し、をクリックしま **[!UICONTROL Activate Now]**&#x200B;す。

## すべてのインデックス・ロールバックのログの表示 {#task_D2D9AA7203F0465FB5AE0D49212AC41C}

すべてのロールバック関連操作の日時を表示します。

**すべてのインデックス・ロールバックのログを表示するには**

1. 製品メニューで、次のいずれかの操作を行います。

   * Click **[!UICONTROL Index]** > **[!UICONTROL Re-Rank Index]** > **[!UICONTROL Live Log]**.

   * Click **[!UICONTROL Index]** > **[!UICONTROL Re-Rank Index]** > **[!UICONTROL Staged Log]**.

1. ログページの上部または下部で、次のいずれかの操作を行います。

   * ナビゲーションオプシ **[!UICONTROL First]**&#x200B;ョン、、、、 **[!UICONTROL Prev]**&#x200B;また **[!UICONTROL Next]**&#x200B;はを使 **[!UICONTROL Last]**&#x200B;用して **[!UICONTROL Go to line]** ログ内を移動します。

   * 表示オプション、または **[!UICONTROL Errors only]**&#x200B;を使用 **[!UICONTROL Wrap line]**&#x200B;して、 **[!UICONTROL Show]** 表示内容を調整します。

